<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NarratOS Terminal</title>
  <link href="static/tailwind.min.css" rel="stylesheet">
  <link href="static/fonts.css" rel="stylesheet">
  <style>
    .hidden-image {
      opacity: 0;
    }

    .fade-in {
      animation: fadeIn 1s ease-in-out forwards;
    }

    .rotate {
      animation: fadeIn 2s ease-in-out forwards, rotate 45s linear infinite;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    /* Rotation keyframe */
    @keyframes rotate {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body class="bg-gray-100 flex flex-col items-center justify-center h-screen text-lg font-m-plus">
  <img src="static/img/narratos_logo.png" id="osLogo" alt="NarratOS Logo" class="w-64 hidden-image" id="Quantum NarratOS">
  <div class="w-4/5 lg:w-2/3 xl:w-1/2 p-5 overflow-hidden">
    <div id="output" class="whitespace-pre overflow-hidden h-full"></div>
  </div>
  <img id="startButton" src="static/img/start_button.png" alt="NarratOS Logo" class="w-40 hidden-image" id="Start Button">

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const output = document.getElementById('output');
      const osLogo = document.getElementById('osLogo');
      const startButton = document.getElementById('startButton');
      const messages = [
        "[INFO] Booting up NarratOS...",
        "[OK] Kernel Loaded",
        "[OK] Initializing system modules...",
        "[OK] Loading quantum processing units...",
        "[OK] Quantum cores operational",
        "[OK] Qubit entanglement synchronization completed",
        "[OK] Personality models imported",
        "[OK] Emotional response algorithms calibration completed",
        "[INFO] Welcome to NarratOS. Preparing simulation environment...",
        "NarratOS> Simulation ready. Click below to begin..."
      ];


      let currentLine = 0;
      let index = 0;
      let interval = 10; // Speed of typing

      function typeLine() {
        let line = messages[currentLine];
        if (index < line.length) {
          output.textContent += line.charAt(index);
          index++;
          setTimeout(typeLine, interval);
        } else {
          output.textContent += '\n';
          currentLine++;
          index = 0;
          if (currentLine < messages.length) {
            setTimeout(typeLine, 500); // Delay before starting next line
          } else {
            // Once all messages are typed, trigger the fade-in effect
            startButton.classList.remove('hidden-image');
            // startButton.classList.add('fade-in');
            startButton.classList.add('rotate');
            startButton.classList.add('cursor-pointer');
          }
        }
      }

      osLogo.classList.remove('hidden-image');
      osLogo.classList.add('fade-in');
      setTimeout(typeLine, 1200);
    });
  </script>
</body>

</html>